(this["webpackJsonpawesome-laser-mega-chat"]=this["webpackJsonpawesome-laser-mega-chat"]||[]).push([[0],{62:function(e,t,n){e.exports=n(81)},68:function(e,t,n){},69:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a,i,s,r,c,o=n(37),l=n.n(o),u=n(47),m=n(0),h=n.n(m),g=n(9),f=n.n(g),d=(n(68),n(110)),p=n(113),b=n(114),v=n(109),E=n(13),j=n(53),w=(n(69),Object(E.a)((function(e){var t=Object(j.a)({palette:{primary:{main:"#ff0066"},secondary:{main:"#f44336"}}});return h.a.createElement("div",{id:"App"},h.a.createElement(v.a,{theme:t},h.a.createElement(d.a,{position:"static"},h.a.createElement(p.a,null,h.a.createElement(b.a,{variant:"h6",style:{flex:1,textAlign:"center"}},"Awesome Cyber Laser Mega Chat"))),e.children))}))),y=n(34),O=n(35),M=n(26),C=n(27),k=(n(74),n(6)),x=(a=function(){function e(){Object(y.a)(this,e),Object(M.a)(this,"messages",i,this),Object(M.a)(this,"channels",s,this),Object(M.a)(this,"activeChannel",r,this),Object(M.a)(this,"user",c,this),this.dialogueProgress={step:0,running:!1}}return Object(O.a)(e,[{key:"printDialogue",value:function(e,t){var n=this;e.length-1>=this.dialogueProgress.step?(setTimeout((function(){n.localBotMessage(e[n.dialogueProgress.step]),n.dialogueProgress.step++}),t*e[this.dialogueProgress.step].length),setTimeout((function(){n.printDialogue(e,t)}),t*e[this.dialogueProgress.step].length)):(this.dialogueProgress.step=0,this.dialogueProgress.running=!1)}},{key:"localBotMessage",value:function(e){this.receiveMessage({sender:{emoji:"\ud83d\udc0c"},message:e})}},{key:"receiveMessage",value:function(e){this.messages.push({metadata:{timestamp:new Date},content:e})}},{key:"join",value:function(e){this.switchChannel(e)}},{key:"switchChannel",value:function(e){this.activeChannel=this.channels[e]}},{key:"sendMessage",value:function(e){if(null!=this.activeChannel){var t={sender:this.user,message:e};this.activeChannel.trigger("client-message",t),this.receiveMessage(t)}else console.exception("please select a channel")}}]),e}(),i=Object(C.a)(a.prototype,"messages",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(C.a)(a.prototype,"channels",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(C.a)(a.prototype,"activeChannel",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=Object(C.a)(a.prototype,"user",[k.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a),_=function(){function e(){Object(y.a)(this,e)}return Object(O.a)(e,null,[{key:"getCommunicationFeed",value:function(){return e.model}}]),e}();_.model=new x;n(75);var N=Object(E.a)((function(e){return h.a.createElement("div",{className:"MessageBubble"},h.a.createElement("div",{className:"MessageBubble__profilePicture"},e.message.content.sender.emoji),e.message.content.message,h.a.createElement("label",{className:"MessageBubble__timestamp"},new Intl.DateTimeFormat("de-DE",{hour:"numeric",minute:"numeric"}).format(e.message.metadata.timestamp)))})),P=(n(76),Object(E.a)((function(e){var t=_.getCommunicationFeed(),n=h.a.createRef();return Object(m.useEffect)((function(){null!=n&&null!=n.current&&n.current.scrollIntoView({behavior:"smooth"})})),h.a.createElement("div",{className:"MessagingView"},t.messages.map((function(e){return h.a.createElement(N,{message:e})})),h.a.createElement("div",{ref:n}))}))),B=n(54),D=n(115),F=n(116),T=(n(77),n(52)),z=n.n(T),I=(n(78),Object(E.a)((function(e){var t="\ud83e\udd98 \ud83d\udc06 \ud83d\udc0b \ud83e\udd94 \ud83d\udc09 \ud83d\udc7d \ud83d\udc7e \ud83e\udd16 \ud83c\udf83 \ud83d\udc2f \ud83d\udc2e \ud83d\ude3a \ud83d\udc37 \ud83e\uddd4 \ud83d\udc68\u200d\ud83e\uddb3 \u26f9\ufe0f\u200d\u2640\ufe0f".split(" "),n=_.getCommunicationFeed();return h.a.createElement("div",{className:"EmojiSelection"},t.map((function(e){return h.a.createElement("a",{onClick:function(){!function(e){n.user={emoji:e},n.localBotMessage("Thanks! Nice to meet you ".concat(e)),n.sendMessage("@Everyone say hi to ".concat(e))}(e)},className:"EmojiSelection__item"},e)})))}))),S=Object(E.a)((function(e){var t=Object(m.useState)(""),n=Object(B.a)(t,2),a=n[0],i=n[1],s=_.getCommunicationFeed();return h.a.createElement("div",{className:"MessageEditor"},null==s.user?h.a.createElement(I,null):h.a.createElement("div",{className:"MessageEditor__inner"},h.a.createElement(D.a,{label:"Your Message",multiline:!0,rows:4,value:a,id:"message_field",placeholder:"Type here..",fullWidth:!0,onChange:function(e){i(e.target.value)},variant:"outlined"}),h.a.createElement(F.a,{color:"primary",onClick:function(){""!=a.trim()&&(s.sendMessage(a),i(""))}}," ",h.a.createElement(z.a,null)))," ")}));var W=function(){return h.a.createElement(w,null,h.a.createElement(P,null),h.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(38),J=n.n(A);function L(){return(L=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J.a.logToConsole=!0,e.next=3,new J.a("11b4ad3a39f15ba40603",{cluster:"eu",authEndpoint:"https://pacific-garden-77198.herokuapp.com/pusher/auth"});case 3:return t=e.sent,e.next=6,t.subscribe("private-channel");case 6:return n=e.sent,a=_.getCommunicationFeed(),e.next=10,n.bind("pusher:subscription_succeeded",(function(){a.channels.push(n),a.join(0),a.printDialogue(["Oh!","You're earlier than I expected \ud83d\ude48","\u2728\ud83c\udf89 WELCOME \ud83e\udd73\ud83c\udf88","\ud83d\udc49 Just select and an emoji and start chatting"],120)}));case 10:return e.next=12,n.bind("client-message",(function(e){a.receiveMessage(e)}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){L.apply(this,arguments)}(),f.a.render(h.a.createElement(h.a.StrictMode,null,h.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.9e3c615a.chunk.js.map